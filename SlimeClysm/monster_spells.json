[
  {
    "type": "SPELL",
    "id": "slime_teleport",
    "name": { "str": "Slime Teleport" },
    "description": "Teleports the monster.",
    "effect": "short_range_teleport",
    "shape": "blast",
    "valid_targets": [ "ground" ],
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "RANDOM_TARGET" ],
    "min_range": 1,
    "max_range": 2,
    "min_aoe": 2,
    "max_aoe": 4,
    "base_casting_time": 50
  },
  {
    "type": "SPELL",
    "id": "blue_gas_emitter",
    "name": { "str": "Emit Blue Gas" },
    "description": "Emits a blue gas cloud that causes disorientation.",
    "effect": "emit",
    "effect_str": "emit_blue_disorient_gas",
    "valid_targets": [ "self" ],
    "shape": "blast",
    "min_range": 1,
    "max_range": 1,
    "base_casting_time": 70,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ]
  },
  {
    "type": "SPELL",
    "id": "cyan_cold_air",
    "name": { "str": "Emit Cold Air" },
    "description": "Emits cold air",
    "effect": "emit",
    "effect_str": "emit_cold_air",
    "valid_targets": [ "self" ],
    "shape": "blast",
    "min_range": 1,
    "max_range": 1,
    "base_casting_time": 0,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ]
  },
  {
    "type": "SPELL",
    "id": "cyan_cold_air2",
    "name": { "str": "Emit Cold Air 2" },
    "description": "Emits very cold air",
    "effect": "emit",
    "effect_str": "emit_cold_air2",
    "valid_targets": [ "self" ],
    "shape": "blast",
    "min_range": 1,
    "max_range": 1,
    "base_casting_time": 0,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ]
  },
  {
    "type": "SPELL",
    "id": "blue_gas_emitter_large",
    "name": { "str": "Emit Blue Gas (large)" },
    "description": "Emits a blue gas cloud that causes disorientation.",
    "effect": "emit",
    "effect_str": "emit_blue_disorient_gas2",
    "valid_targets": [ "self" ],
    "shape": "blast",
    "min_range": 1,
    "max_range": 1,
    "base_casting_time": 70,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ]
  },
  {
    "id": "slime_aoe_heal",
    "type": "SPELL",
    "name": "Slime AOE Heal",
    "description": "Heals nearby slimes for an amount.",
    "valid_targets": [ "ally" ],
    "targeted_monster_species": [ "SLIME" ],
    "min_damage": -5,
    "max_damage": -30,
    "min_range": 3,
    "max_range": 3,
    "min_aoe": 3,
    "max_aoe": 3,
    "effect": "attack",
    "shape": "blast",
    "base_casting_time": 200,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE" ]
  },
  {
    "id": "large_slime_aoe_heal",
    "type": "SPELL",
    "name": "Slime AOE Heal (large)",
    "description": "Heals nearby slimes for a large amount.",
    "valid_targets": [ "ally" ],
    "targeted_monster_species": [ "SLIME" ],
    "min_damage": -8,
    "max_damage": -50,
    "min_range": 5,
    "max_range": 5,
    "min_aoe": 5,
    "max_aoe": 5,
    "effect": "attack",
    "shape": "blast",
    "base_casting_time": 200,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE" ]
  },
  {
    "id": "queen_summon_slime",
    "type": "SPELL",
    "name": "Queen Slime Spawn",
    "description": "The queen slime spawns a brand new slime.",
    "valid_targets": [ "self", "ground" ],
    "min_damage": 1,
    "max_damage": 1,
    "min_aoe": 2,
    "max_aoe": 2,
    "effect": "summon",
    "effect_str": "mon_sc_slime",
    "shape": "blast",
    "base_casting_time": 300,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "HOSTILE_SUMMON", "PERMANENT", "SPAWN_WITH_DEATH_DROPS" ]
  },
  {
    "id": "slime_boost_aoe",
    "type": "SPELL",
    "name": "Slime Boost Speed",
    "description": "Give a speed boost to nearby slimes.",
    "valid_targets": [ "self", "ally" ],
    "targeted_monster_species": [ "SLIME" ],
    "effect": "attack",
    "effect_str": "slime_boosted",
    "shape": "blast",
    "min_duration": 3000,
    "max_duration": 3000,
    "min_range": 10,
    "max_range": 10,
    "min_aoe": 1,
    "max_aoe": 3,
    "flags": [ "SILENT", "RANDOM_AOE", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE" ]
  },
  {
    "id": "slime_boost_aoe_large",
    "type": "SPELL",
    "name": "Slime Boost Speed (large)",
    "description": "Give a speed boost to nearby slimes.",
    "valid_targets": [ "self", "ally" ],
    "targeted_monster_species": [ "SLIME" ],
    "effect": "attack",
    "effect_str": "slime_boosted",
    "shape": "blast",
    "min_duration": 5000,
    "max_duration": 5000,
    "min_range": 10,
    "max_range": 10,
    "min_aoe": 1,
    "max_aoe": 6,
    "flags": [ "SILENT", "RANDOM_AOE", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE" ]
  },
  {
    "id": "amoeba_slime_spawn",
    "type": "SPELL",
    "name": "Amoeba Slime Spawn",
    "description": "",
    "valid_targets": [ "hostile" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_amoeba_spawn",
    "min_range": 10,
    "max_range": 10,
    "message": "",
    "shape": "blast",
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_amoeba_spawn",
    "condition": {
      "and": [
        { "one_in_chance": 2 },
        { "compare_int": [ { "u_val": "pos_z" }, "==", { "npc_val": "pos_z" } ] },
        { 
          "or": [
            { "and": [ "u_is_outside", "npc_is_outside" ] },
            { "not": { "or": [ "u_is_outside", "npc_is_outside" ] } }
          ]
        },
        { "compare_int": [ { "distance": [ "u", "npc" ] }, "<", { "arithmetic": [ { "const": 1 }, "+", { "rand": 4 } ] } ] }
      ]
    },
    "effect": [
      {
        "npc_spawn_monster": "mon_sc_amoeba_slime",
        "real_count": 1,
        "min_radius": 1,
        "max_radius": 1
      }
    ]    
  },
  {
    "id": "diamond_slime_shards",
    "type": "SPELL",
    "name": "Diamond Shards",
    "description": "Release shards of diamond.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "min_damage": 1,
    "max_damage": 10,   
    "min_aoe": 5,
    "max_aoe": 5,
    "damage_type": "cut",
    "effect": "attack",
    "shape": "blast",
    "min_accuracy": 0,
    "max_accuracy": 0,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE", "NON_MAGICAL" ]
  },
  {
    "id": "large_diamond_slime_shards",
    "type": "SPELL",
    "name": "Large Diamond Shards",
    "description": "Release large shards of diamond.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "min_damage": 1,
    "max_damage": 15,   
    "min_aoe": 7,
    "max_aoe": 7,
    "damage_type": "cut",
    "effect": "attack",
    "shape": "blast",
    "min_accuracy": 0,
    "max_accuracy": 0,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE", "NON_MAGICAL" ]
  },
  {
    "id": "molten_rock",
    "type": "SPELL",
    "name": "Molten Rock",
    "description": "Release chunks of molten rock.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "min_damage": 4,
    "max_damage": 8,   
    "min_aoe": 3,
    "max_aoe": 3,
    "damage_type": "heat",
    "effect": "attack",
    "shape": "blast",
    "min_accuracy": 0,
    "max_accuracy": 0,
    "extra_effects": [ { "id": "molten_rock_fire", "hit_self": true } ],
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE", "NON_MAGICAL" ]
  },
  {
    "id": "molten_rock_fire",
    "type": "SPELL",
    "name": "Molten Rock",
    "description": "Subspell for molten rock",
    "valid_targets": [ "ground" ],
    "effect": "attack",
    "shape": "blast",
    "min_aoe": 3,
    "max_aoe": 3,
    "min_field_intensity": 1,
    "max_field_intensity": 2,
    "//": "1/18 chance of fire at each tile",
    "field_chance": 18,
    "field_id": "fd_fire",
    "//2": "Decided to leave in the explosion fx because it looks cool for this",
    "flags": [ "SILENT" ]
  },
  {
    "id": "molten_rock_large",
    "type": "SPELL",
    "name": "Large Molten Rock",
    "description": "Release large chunks of molten rock.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "min_damage": 4,
    "max_damage": 10,   
    "min_aoe": 5,
    "max_aoe": 5,
    "damage_type": "heat",
    "effect": "attack",
    "shape": "blast",
    "min_accuracy": 0,
    "max_accuracy": 0,
    "extra_effects": [ { "id": "molten_rock_fire_large", "hit_self": true } ],
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "RANDOM_DAMAGE", "NON_MAGICAL" ]
  },
  {
    "id": "molten_rock_fire_large",
    "type": "SPELL",
    "name": "Large Molten Rock",
    "description": "Subspell for molten rock",
    "valid_targets": [ "ground" ],
    "effect": "attack",
    "shape": "blast",
    "min_aoe": 5,
    "max_aoe": 5,
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "//": "1/14 chance of fire at each tile",
    "field_chance": 14,
    "field_id": "fd_fire",
    "//2": "Decided to leave in the explosion fx because it looks cool for this",
    "flags": [ "SILENT" ]
  }
]